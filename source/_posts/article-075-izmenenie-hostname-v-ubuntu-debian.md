layout: post
title: Изменение hostname в Ubuntu / Debian
date: 2011-03-01
tags:
- hostname
categories: articles
permalink: izmenenie-hostname-v-ubuntu-debian
---
Обычно имя компьютера (**hostname**) указывается во время установки операционной системы. Однако далеко не редким является случай, когда ОС уже стоит, и по каким-либо причинам (переезд в другую сеть, изменение целевого назначения и т.д.) необходимо изменить имя компьютера.

<!-- more -->

Временное изменение hostname 
------------------------------------------

На любой Linux системе имя компьютера можно изменить с помощью команды **hostname** (кто бы мог подумать?). Команда, вызванная без аргументов, выведет на экран текущее имя системы:

``` bash
    $ hostname
    debianworld.ru
```
Чтобы изменить имя компьютера, достаточно использовать ту же команду, но с аргументом:

``` bash
    $ hostname debianworld.ru 
```
Новое имя компьютера будет установлено сразу после выполнения и будет активно вплоть до очередной перезагрузки системы. Чтобы новое имя стало постоянным, необходимо сделать еще немного телодвижений.


Постоянное изменение hostname
------------------------------------------- 

Системы, основанные на Debian, при загрузке читают файл **/etc/hostname**, чтобы установить имя компьютера. После чего, прочитанное имя устанавливается во время работы init-скрипта **/etc/init.d/hostname** (или  /etc/init.d/hostname.sh). Таким образом, чтобы узнать текущее имя машины, можно в дополнение к вышеуказанному способу, так же использовать следующий подход:

``` bash
    $ cat /etc/hostname 
    debianworld.ru
```
Чтобы задать постоянное имя компьютеру, необходимо отредактировать этот файл:


``` bash
    $ sudo vim /etc/hostname 
```
После чего, необходимо перезапустить скрипт **/etc/init.d/hostname** (или  /etc/init.d/hostname.sh):

``` bash
    $ /etc/init.d/hostname start
```
Либо просто перезагрузить машину. Кроме этого, необходимо проверить файл **/etc/hosts** на предмет упоминания в нем старого имени компьютера. Если оно там встречается (а оно там наверняка встречается), то его так же необходимо заменить на новое имя:

``` bash
    $ sudo sed -i 's/debianworld.ru/new-debianworld.ru/g' /etc/hosts
```
После этого необходимо переподнять сеть:

``` bash
    $ sudo /etc/init.d/networking restart
```
Либо, опять же, просто перезагрузить компьютер.
